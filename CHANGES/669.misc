Moved update type detection from Dispatcher to Update object
